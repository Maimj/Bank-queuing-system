# Bank-queuing-system

##用Java编写的一个模拟银行排队系统

### 实现原理和技术要点

#### 服务器端（Server.java）：

- 创建三个`ServerSocket`对象，分别监听取号机、叫号机和显示端的连接。
- 在一个无限循环中，不断监听客户端的连接请求。
- 每当有一个连接建立，就创建一个线程来处理该连接的请求。
- 取号机线程（NumberMachineClientHandler）接收取号机的请求，将取得的号码添加到队列中，并返回号码给取号机。
- 叫号机线程（CallingMachineClientHandler）接收叫号机的请求，从队列中取出下一个号码，并返回给叫号机。
- 显示端线程（DisplayClientHandler）接收显示端的请求，返回当前队列的大小和队列中的号码列表。
- 通过`synchronized`关键字对队列进行同步，保证多个线程对队列的操作安全。

#### 客户端：

- 取号机（NumberMachine.java）：
  - 连接到服务器的取号机端口。
  - 当用户按下Enter键时，向服务器发送获取号码的请求。
  - 接收服务器的响应，并显示取得的号码。
- 叫号机（CallingMachine.java）：
  - 连接到服务器的叫号机端口。
  - 当用户按下Enter键时，向服务器发送叫号的请求。
  - 接收服务器的响应，并显示叫到的号码。
- 显示端（Display.java）：
  - 连接到服务器的显示端口。
  - 创建一个线程来接收服务器的响应。
  - 循环发送获取队列信息的请求给服务器，并接收并显示服务器的响应，直到队列不再变化。

### 技术要点：

- Socket编程：通过Socket建立客户端与服务器之间的网络连接，实现双向通信。
- 多线程：为每个客户端连接创建一个线程，实现并发处理请求。
- 对象序列化：使用ObjectInputStream和ObjectOutputStream实现对象的序列化和反序列化，实现对象在网络中的传输。
- 同步机制：通过`synchronized`关键字对队列进行同步，保证多个线程对队列的操作安全。
